<UserControl
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
  xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:local="clr-namespace:ContragentAnalyse.Controls"
             xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" x:Class="ContragentAnalyse.Controls.Anceta"
    mc:Ignorable="d" DataContext="{Binding Source={StaticResource Locator}, Path=Main}">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid>
            
            <StackPanel Grid.ColumnSpan="2">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Введите БИН" Margin="5,0"/>
                    <TextBox MinWidth="50" Margin="5,0" Text="{Binding SearchBIN}"/>
                    <TextBlock Text="Введите наименование" Margin="5,0" />
                    <TextBox MinWidth="250" Margin="5,0" Text="{Binding SearchName}"/>
                    <Button x:Name="buttonSearch"  Content="Поиск" Width="100" Click="Search" Tag="Page1Education"
                                Command="{Binding SearchCommand}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <GroupBox Header="Выберете из предложенных Банков/Юр.лиц" Margin="10,20" >
                        <ListView Name="FoundItemsList" Margin="5" MinWidth="600" MinHeight="100" ItemsSource="{Binding FoundClients}" SelectedItem="{Binding SelectedClient}">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header="БИН" DisplayMemberBinding="{Binding Path=Bank.BIN}"/>
                                    <GridViewColumn Header="Название" DisplayMemberBinding="{Binding Path=Bank.ShortName}"/>
                                    <GridViewColumn Header="Мнемоника" DisplayMemberBinding="{Binding Path=Mnemonic}"/>
                                    <GridViewColumn Header="Тип клиента" DisplayMemberBinding="{Binding Path=TypeClient.Name}"/>
                                </GridView>
                            </ListView.View>
                        </ListView>
                    </GroupBox>
                </StackPanel>
            </StackPanel>
            <ContentControl Name="Page1ContentController1" Margin="0,190,0,0">
                <TabControl VerticalAlignment="Top" HorizontalAlignment="Stretch">

                    <TabItem Header="Информация о Клиенте"  >
                        <TabItem.Content>
                            <Grid ScrollViewer.CanContentScroll="False" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                <StackPanel >
                                    <GroupBox Header="Информация о Клиенте" Margin="10,0" HorizontalAlignment="Left" VerticalAlignment="Top" MaxWidth="690">
                                        <StackPanel >
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Полное наименование Клиента:" Width="200"/>
                                                <TextBox Text="{Binding CurrentBank.FullName}" MinWidth="300" MaxWidth="400" IsReadOnly="True"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Страна регистрации:" Width="200"/>
                                                <TextBox Text="{Binding CurrentBank.Country}" Width="300" IsReadOnly="True"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Дата актуализации:" Width="200"/>
                                                <DatePicker Text="{Binding DataAct}" Width="150" IsEnabled="False"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Другие БИНы Клиента:" Width="200"/>
                                                <TextBox Text="{Binding CurrentBank.AdditionalBIN}" Width="300" IsReadOnly="True"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Действующие договора:" Width="200"/>
                                                <TextBox Text="{Binding Contract}" Width="300" IsReadOnly="True"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Счета в валюте:" Width="200"/>
                                                <TextBox Text="{Binding AccountNumbers}" Width="300" IsReadOnly="True"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Наличие КОП:" Width="200"/>
                                                <CheckBox x:Name="CheckBox2" Width="300" IsEnabled="False"/>
                                            </StackPanel>
                                                                    
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="Счет с ограничениями:" Width="200"/>
                                                <CheckBox x:Name="CheckBox1" Width="300" IsEnabled="False"/>
                                            </StackPanel>
                                           
                                        </StackPanel>
                                    </GroupBox>
                                    </StackPanel>
                                <GroupBox Header="Информация о Клиенте 2" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="630,0,0,0" >
                                    <StackPanel HorizontalAlignment="Left">
                                            <TextBlock Text="Комплаенс-менеджер:" Width="200" HorizontalAlignment="Left"/>
                                            <TextBox Text="{Binding ClientManagers}" x:Name="TextClientMenedger" Width="300" IsReadOnly="True"/>
                                            <TextBlock Text="Уровень риска:" Width="200" HorizontalAlignment="Left"/>
                                            <TextBox Text="{Binding Criteria}" Width="300" IsReadOnly="True"/>
                                        <TextBlock Text="Дата пересмотра риска:" Width="200" HorizontalAlignment="Left"/>
                                        <DatePicker Text="{Binding DateNext}" Width="150" IsEnabled="False" HorizontalAlignment="Left"/>
                                            <TextBlock Text="Выявленные критерии риска:" Width="200"/>
                                        <ComboBox ItemsSource="{Binding CurrentBank.PrescoringScoring}" DisplayMemberPath="ScoringType_Id" Width="300"/>
                                            <TextBlock Text="Запросы:" Width="200"/>
                                            <DataGrid ItemsSource="{Binding SelectedClient.Requests}" AutoGenerateColumns="False" >
                                                <!--<i:EventTrigger EventName="LostFocus">
                                                        <i:InvokeCommandAction Command="{Binding CommitChanges}"/>
                                                    </i:EventTrigger>-->
                                                <DataGrid.Columns>
                                                    <DataGridTextColumn x:Name="Table1" Header="Дата направления" MinWidth="90" Binding="{Binding SendDate}" IsReadOnly="True"/>
                                                    <DataGridTextColumn x:Name="Table2" Header="Дата получения"  MinWidth="90" Binding="{Binding RecieveDate}" IsReadOnly="True"/>
                                                    <DataGridTextColumn x:Name="Table3" Header="Комментарий" MinWidth="90" Binding="{Binding Comment}" IsReadOnly="True"/>
                                                </DataGrid.Columns>
                                            </DataGrid>
                                            <TextBlock Text="Контакты:" Width="200"/>
                                            <TextBox  x:Name="TextContact" Text="{Binding Contact}"  Width="300" IsReadOnly="True"/>
                                            <Button x:Name="buttonCorr" Width="150" Height="25" Content="Редактировать" Click="Corr"/>
                                            <Button x:Name="buttonSave" Width="150" Height="25" Content="Сохранить изменения" Click="Save"/>
                                            <Button x:Name="buttonWord" Width="150" Height="25" Content="Выгрузить в Word" Click="Word"/>
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </TabItem.Content>

                    </TabItem>
                    <TabItem x:Name="TabClient"  Header="Добавить Клиента"  >
                        <TabItem.Content>
                            <Grid>
                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                    <StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Введите БИН для загрузки информации из Эквейжена" Margin="5,0"/>
                                            <TextBox MinWidth="50" Margin="5,0"/>
                                            <Button x:Name="New" Content="Добавить нового Клиента" Width="200" />
                                        </StackPanel>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </TabItem.Content>

                    </TabItem>
                </TabControl>
            </ContentControl>

        </Grid>
    </ScrollViewer>
</UserControl>
